<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="styleSheet" href="./../css/難易度選択.css">
    <title>単位を落とすな</title>
    <script>
        localStorage.setItem("username",JSON.stringify({easy:["名無し","名無し","名無し","名無し","名無し"],normal:["名無し","名無し","名無し","名無し","名無し"],hard:["名無し","名無し","名無し","名無し","名無し"],hell:["名無し","名無し","名無し","名無し","名無し"]}))
    </script>
</head>
<body>
    <div class="topDiv">
        <h1>単位を落とすな</h1>
        <h5>新感覚タイピングゲーム</h5>
    </div>
    <div class="topDiv">
        <script>
            localStorage.setItem("difficulty","普通");
            function changeDifficulty(dif){
                obj=document.getElementById('difficulty');
                obj.innerHTML=`現在の難易度:${dif}`;
                localStorage.setItem("difficulty",dif);
            }
        </script>
        <h2>難易度</h2>
        <button onclick="changeDifficulty('やさしい')">やさしい</button>
        <button onclick="changeDifficulty('普通')">普通</button>
        <button onclick="changeDifficulty('難しい')">難しい</button>
        <button onclick="changeDifficulty('地獄')">地獄</button><br>
        <p id="difficulty">現在の難易度:普通</p>
        <a href="タイピング枠落下.html">スタート</a>
    </div>
    <div class="topDiv">
        <h2>ルール説明</h2>
        <div onclick="obj=document.getElementById('rule').style; obj.display=(obj.display=='none')?'inline-block':'none';">
            <a style="cursor:pointer;">▼ クリックで表示</a>
        </div>
        <div id="rule" style="display:none;clear:both;">
            <!--<p id="rule-text">時間内に60点ラインから降ってくる教科を入力して打ち上げてください<br>
            0点ラインまで落ちるとGAMEOVERです<br>
            単語を一定数入力すると、試験期間に入ります<br>
            試験期間は通常より多くの単語が降ってきます<br>
            試験期間にたくさん入力すると、再試になり制限時間が10秒延長されます<br>
            たくさん単位を取得してハイスコアを目指そう!</p><br>-->
            <div class="rule-image">
                <img src="./../image/タイピング説明.png">
                <p>降ってくる赤枠の単位が下に落ちる前にタイピングしてください</p>
            </div>
            <div class="rule-image">
                <img src="./../image/試験ゲージ説明.png">
                <p>タイピングしていると、試験ゲージが上昇します</p>
            </div><br>
            <div class="rule-image">
                <img src="./../image/試験期間説明.png">
                <p>ゲージがたまると、試験期間になります。<br>試験期間は、降ってくる単位の量が2倍になります</p>
            </div>
            <div class="rule-image">
                <img src="./../image/再試説明.png">
                <p>試験期間にゲージを再度ためきると、再試になり、制限時間が10秒延長されます。<br>それ以外は試験期間と同じです</p>
            </div><br>
            <div>
                <img src="./../image/クリア説明.png">
                <p>60秒間耐えきるとクリアです。ハイスコア目指して頑張ってください</p>
            </div>
        </div>
    </div>
    <div class="topDiv">
        <h2>スコア</h2>
        <div onclick="obj=document.getElementById('score').style; obj.display=(obj.display=='none')?'inline-block':'none';">
            <a style="cursor:pointer;">▼ クリックで表示</a>
        </div>
        <div id="score" style="display:none;clear:both;">
            <ol class="dScore" id="easy">
                <h4>やさしい</h4>
                <li id="easy1">0</li>
                <li id="easy2">0</li>
                <li id="easy3">0</li>
                <li id="easy4">0</li>
                <li id="easy5">0</li>
            </ol>
            <ol class="dScore" id="normal">
                <h4>普通</h4>
                <li id="normal1">0</li>
                <li id="normal2">0</li>
                <li id="normal3">0</li>
                <li id="normal4">0</li>
                <li id="normal5">0</li>
            </ol>
            <ol class="dScore" id="hard">
                <h4>難しい</h4>
                <li id="hard1">0</li>
                <li id="hard2">0</li>
                <li id="hard3">0</li>
                <li id="hard4">0</li>
                <li id="hard5">0</li>
            </ol>
            <ol class="dScore" id="hell">
                <h4>地獄</h4>
                <li id="hell1">0</li>
                <li id="hell2">0</li>
                <li id="hell3">0</li>
                <li id="hell4">0</li>
                <li id="hell5">0</li>
            </ol><br>
            <script>
                const data=JSON.parse(localStorage.getItem("score"));
                const key=Object.keys(data)
                for (n=0;n<4;n++){
                    for (i=0;i<5;i++){
                        document.getElementById(`${key[n]}${i+1}`).innerHTML=username[key[n]][i]+data[key[n]][i];
                    }
                }
                function scoreReset(){
                    localStorage.setItem("score",JSON.stringify({easy:[0,0,0,0,0],normal:[0,0,0,0,0],hard:[0,0,0,0,0],hell:[0,0,0,0,0]}));
                    localStorage.setItem("username",JSON.stringify({easy:["名無し","名無し","名無し","名無し","名無し"],normal:["名無し","名無し","名無し","名無し","名無し"],hard:["名無し","名無し","名無し","名無し","名無し"],hell:["名無し","名無し","名無し","名無し","名無し"]}))
                }
            </script>
            <button onclick="scoreReset();">スコアを初期化する</button>
        </div>
    </div>
    <div class="topDiv">
        <h2>クレジット</h2>
        <div onclick="obj=document.getElementById('credit').style; obj.display=(obj.display=='none')?'inline-block':'none';">
            <a style="cursor:pointer;">▼ クリックで表示</a>
        </div>
        <div id="credit" style="display:none;clear:both;">
            <p>
                制作:大阪公立大学高等工業専門学校2年知能情報コースE班<br>
                メンバー:柿谷 幸太郎,フェアバーン 勇気 イヴァン,西口 晴人,飛騨野 優介,行方 遥希,岩見 心人<br>
                お借りした素材:効果音とか
            </p>
        </div>
    </div>
</body>
</html>